"use strict";(self.webpackChunkweb_app=self.webpackChunkweb_app||[]).push([[5693],{72237:(e,t,s)=>{s.d(t,{A:()=>l});var n=s(65043),i=s(70579);const l=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return function(s){return(0,i.jsx)(n.Suspense,{fallback:t,children:(0,i.jsx)(e,{...s})})}}},94141:(e,t,s)=>{s.d(t,{A:()=>c});var n=s(65043),i=s(22166),l=s(89923),a=s(21383),o=s(64159),r=s(49555),x=s(70579);const c=e=>{let{onClose:t,modalOpen:s,title:c,children:d,wideLimit:h=!0,titleIcon:p=null,iconColor:m="default",sx:u}=e;const g=(0,a.jL)(),[j,f]=(0,n.useState)(!1),b=(0,i.d4)((e=>e.system.modalSnackBar));(0,n.useEffect)((()=>{g((0,o.h0)(""))}),[g]),(0,n.useEffect)((()=>{if(b){if(""===b.message)return void f(!1);"error"!==b.type&&f(!0)}}),[b]);let y="";return b&&(y=b.detailedErrorMsg,(""===y||y&&y.length<5)&&(y=b.message)),(0,x.jsxs)(l.ngX,{onClose:t,open:s,title:c,titleIcon:p,widthLimit:h,sx:u,iconColor:m,children:[(0,x.jsx)(r.A,{isModal:!0}),(0,x.jsx)(l.qb_,{onClose:()=>{f(!1),g((0,o.h0)(""))},open:j,message:y,mode:"inline",variant:"error"===b.type?"error":"default",autoHideDuration:"error"===b.type?10:5,condensed:!0}),d]})}},28481:(e,t,s)=>{s.d(t,{A:()=>o});var n=s(65043),i=s(73216),l=s(89923),a=s(70579);const o=e=>{let{compactMode:t=!1}=e;const s=(0,i.Zp)(),o=(0,a.jsx)(l.$nd,{id:"go-to-register",type:"submit",variant:"callAction",color:"primary",onClick:()=>s("/support/register"),children:"Register your Cluster"}),r="Please use your MinIO Subscription Network login credentials to register this cluster and enable this feature.";return t?(0,a.jsxs)(n.Fragment,{children:[(0,a.jsx)(l.xA9,{sx:{"& div.leftItems":{marginBottom:0}},children:(0,a.jsx)(l.lVp,{title:(0,a.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",flexGrow:1},children:[(0,a.jsx)("span",{children:r})," ",o]}),iconComponent:(0,a.jsx)(l.cJw,{}),help:null})}),(0,a.jsx)("br",{})]}):(0,a.jsx)(l.azJ,{sx:{padding:"25px",border:"1px solid #eaeaea",display:"flex",alignItems:"center",justifyContent:"center",flexFlow:"row",marginBottom:"15px",["@media (max-width: ".concat(l.nmC.sm,"px)")]:{flexFlow:"column"}},children:(0,a.jsxs)(l.xA9,{container:!0,children:[(0,a.jsx)(l.xA9,{item:!0,xs:12,children:(0,a.jsx)(l.azJ,{sx:{marginRight:"8px",fontSize:"16px",fontWeight:600,display:"flex",alignItems:"center","& .min-icon":{width:"83px",height:"14px",marginLeft:"5px",marginRight:"5px"}},children:"Register your cluster"})}),(0,a.jsx)(l.xA9,{item:!0,xs:12,children:(0,a.jsx)(l.azJ,{sx:{display:"flex",flexFlow:"row",["@media (max-width: ".concat(l.nmC.sm,"px)")]:{flexFlow:"column"}},children:(0,a.jsxs)(l.azJ,{sx:{display:"flex",flexFlow:"column",flex:"2"},children:[(0,a.jsx)(l.azJ,{sx:{fontSize:"16px",display:"flex",flexFlow:"column",marginTop:"15px",marginBottom:"15px"},children:r}),(0,a.jsx)(l.azJ,{sx:{flex:"1"},children:(0,a.jsx)(l.azJ,{sx:{display:"flex",alignItems:"center",justifyContent:"flex-end"},children:o})})]})})})]})})}},5693:(e,t,s)=>{s.r(t),s.d(t,{default:()=>w});var n=s(65043),i=s(73216),l=s(72237),a=s(39808),o=s(89923),r=s(35475),x=s(20649),c=s(64159),d=s(21383),h=s(14558),p=s(94141),m=s(70579);const u=e=>{let{onClose:t,diagStatus:s,open:i,disable:l=!1}=e;const a=(0,d.jL)(),[r,h]=(0,n.useState)(!1),u=()=>{h(!0),x.A.invoke("PUT","/api/v1/support/callhome",{diagState:!l&&s,logsState:!1}).then((e=>{a((0,c.Hk)("Configuration saved successfully")),h(!1),t(!0)})).catch((e=>{h(!1),a((0,c.C9)(e))}))};return(0,m.jsx)(p.A,{modalOpen:i,title:l?"Disable Call Home":"Edit Call Home Configurations",onClose:()=>t(!1),titleIcon:(0,m.jsx)(o.kfP,{}),children:l?(0,m.jsxs)(n.Fragment,{children:["Please Acknowledge that after doing this action, we will no longer receive updated cluster information automatically, losing the potential benefits that Call Home provides to your MinIO cluster.",(0,m.jsx)(o.xA9,{item:!0,xs:12,sx:{margin:"15px 0"},children:"Are you sure you want to disable SUBNET Call Home?"}),(0,m.jsx)("br",{}),r&&(0,m.jsx)(o.xA9,{item:!0,xs:12,sx:{marginBottom:10},children:(0,m.jsx)(o.z21,{})}),(0,m.jsxs)(o.xA9,{item:!0,xs:12,sx:{display:"flex",justifyContent:"flex-end"},children:[(0,m.jsx)(o.$nd,{id:"reset",type:"button",variant:"regular",disabled:r,onClick:()=>t(!1),label:"Cancel",sx:{marginRight:10}}),(0,m.jsx)(o.$nd,{id:"save-lifecycle",type:"submit",variant:"secondary",color:"primary",disabled:r,label:"Yes, Disable Call Home",onClick:u})]})]}):(0,m.jsxs)(n.Fragment,{children:["Are you sure you want to change the following configurations for SUBNET Call Home:",(0,m.jsx)(o.xA9,{item:!0,sx:{margin:"20px 0",display:"flex",flexDirection:"column",gap:15},children:(0,m.jsxs)(o.xA9,{item:!0,sx:{display:"flex",alignItems:"center",gap:10},children:[(0,m.jsx)(o.GQ2,{style:{fill:s?"#4CCB92":"#C83B51",width:20}}),(0,m.jsxs)("span",{children:[(0,m.jsx)("strong",{children:s?"Enable":"Disable"})," - Send Diagnostics Information to SUBNET"]})]})}),(0,m.jsx)(o.xA9,{item:!0,xs:12,sx:{margin:"15px 0"},children:"Please Acknowledge that the information provided will only be available in your SUBNET Account and it will not be shared to other persons or entities besides MinIO team and you."}),r&&(0,m.jsx)(o.xA9,{item:!0,xs:12,sx:{marginBottom:10},children:(0,m.jsx)(o.z21,{})}),(0,m.jsxs)(o.xA9,{item:!0,xs:12,sx:{display:"flex",justifyContent:"flex-end"},children:[(0,m.jsx)(o.$nd,{id:"reset",type:"button",variant:"regular",disabled:r,onClick:()=>t(!1),label:"Cancel",sx:{marginRight:10}}),(0,m.jsx)(o.$nd,{id:"save-lifecycle",type:"submit",variant:"callAction",color:"primary",disabled:r,label:"Yes, Save this Configuration",onClick:u})]})]})})};var g=s(28481),j=s(48793),f=s(55968);const b=()=>{const e=(0,d.jL)(),t=(0,i.Zp)(),[s,l]=(0,n.useState)(!0),[a,p]=(0,n.useState)(!1),[b,y]=(0,n.useState)(!1),[C,v]=(0,n.useState)(!1),[w,A]=(0,n.useState)(!1),S=(0,h.vf)();(0,n.useEffect)((()=>{s&&x.A.invoke("GET","/api/v1/support/callhome").then((e=>{l(!1),y(!!e.diagnosticsStatus),v(!!e.diagnosticsStatus)})).catch((t=>{l(!1),e((0,c.C9)(t))}))}),[s,e]);let k="regular";return S&&b!==C&&(k="callAction"),(0,n.useEffect)((()=>{e((0,c.ph)("call_home"))}),[]),(0,m.jsxs)(n.Fragment,{children:[a&&(0,m.jsx)(u,{onClose:e=>{e&&l(!0),p(!1)},open:a,diagStatus:b,disable:w}),(0,m.jsx)(j.A,{label:"Call Home",actions:(0,m.jsx)(f.A,{})}),(0,m.jsxs)(o.Mxu,{children:[!S&&(0,m.jsx)(g.A,{compactMode:!0}),(0,m.jsx)(o.Hbc,{helpBox:(0,m.jsx)(o.lVp,{title:"Learn more about Call Home",iconComponent:(0,m.jsx)(o.kfP,{}),help:(0,m.jsx)(n.Fragment,{children:(0,m.jsx)(o.azJ,{sx:{display:"flex",flexFlow:"column",fontSize:"14px",flex:"2",marginTop:"10px"},children:(0,m.jsxs)(o.azJ,{children:["Enabling Call Home sends cluster health & status to your registered MinIO Subscription Network account every 24 hours.",(0,m.jsx)("br",{}),(0,m.jsx)("br",{}),"This helps the MinIO support team to provide quick incident responses along with suggestions for possible improvements that can be made to your MinIO instances.",(0,m.jsx)("br",{}),(0,m.jsx)("br",{}),"Your cluster must be"," ",(0,m.jsx)(r.N_,{to:"/support/register",children:"registered"})," in the MinIO Subscription Network (SUBNET) before enabling this feature."]})})})}),children:s?(0,m.jsx)("span",{style:{marginLeft:5},children:(0,m.jsx)(o.aHM,{style:{width:16,height:16}})}):(0,m.jsxs)(n.Fragment,{children:[(0,m.jsx)(o.dOG,{value:"enableDiag",id:"enableDiag",name:"enableDiag",checked:b,onChange:e=>{y(e.target.checked)},label:"Daily Health Report",disabled:!S,description:"Daily Health Report enables you to proactively identify potential issues in your deployment before they escalate."}),(0,m.jsxs)(o.azJ,{sx:{display:"flex",alignItems:"center",justifyContent:"flex-end",marginTop:"55px",gap:"0px 10px"},children:[C&&(0,m.jsx)(o.$nd,{id:"callhome-action",variant:"secondary","data-test-id":"call-home-toggle-button",onClick:()=>{A(!0),p(!0)},disabled:s||!S,children:"Disable Call Home"}),(0,m.jsx)(o.$nd,{id:"callhome-action",type:"button",variant:k,"data-test-id":"call-home-toggle-button",onClick:()=>{S?(A(!1),p(!0)):t("/support/register")},disabled:s||!S,children:"Save Configuration"})]})]})})]})]})},y=(0,l.A)(n.lazy((()=>s.e(2166).then(s.bind(s,2166))))),C=(0,l.A)(n.lazy((()=>s.e(7063).then(s.bind(s,97063))))),v=(0,l.A)(n.lazy((()=>s.e(3061).then(s.bind(s,43061))))),w=()=>(0,m.jsxs)(i.BV,{children:[(0,m.jsx)(i.qh,{path:"register",element:(0,m.jsx)(C,{})}),(0,m.jsx)(i.qh,{path:"profile",element:(0,m.jsx)(v,{})}),(0,m.jsx)(i.qh,{path:"call-home",element:(0,m.jsx)(b,{})}),(0,m.jsx)(i.qh,{path:"inspect",element:(0,m.jsx)(y,{})}),(0,m.jsx)(i.qh,{path:"*",element:(0,m.jsx)(a.A,{})})]})}}]);
//# sourceMappingURL=5693.42442779.chunk.js.map