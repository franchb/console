"use strict";(self.webpackChunkweb_app=self.webpackChunkweb_app||[]).push([[8010],{78010:(e,t,n)=>{n.r(t),n.d(t,{default:()=>E});var s=n(65043),i=n(33097),r=n.n(i),c=n(22166),o=n(73216),l=n(89923),a=n(56629),d=n(53518),u=n(77938),x=n(99161),b=n(64159),h=n(39947),p=n(21383),m=n(72237),S=n(6681),j=n(70579);const f=(0,m.A)(s.lazy(()=>n.e(4172).then(n.bind(n,4172)))),_=(0,m.A)(s.lazy(()=>n.e(6108).then(n.bind(n,66108)))),E=()=>{const e=(0,p.jL)(),t=(0,o.g)(),n=(0,c.d4)(h.Nx),[i,m]=(0,s.useState)(!1),[E,k]=(0,s.useState)(!0),[v,A]=(0,s.useState)([]),[O,T]=(0,s.useState)(!1),[I,N]=(0,s.useState)(null),C=t.bucketName||"",g=(0,u._)(C,[x.OV.S3_GET_BUCKET_NOTIFICATIONS,x.OV.S3_GET_ACTIONS]);(0,s.useEffect)(()=>{n&&k(!0)},[n,k]),(0,s.useEffect)(()=>{e((0,b.ph)("bucket_detail_events"))},[]),(0,s.useEffect)(()=>{E&&(g?a.F.buckets.listBucketEvents(C).then(e=>{const t=r()(e.data,"events",[]);k(!1),A(t||[])}).catch(t=>{k(!1),e((0,b.C9)((0,d.S)(t.error)))}):k(!1))},[E,e,C,g]);const F=[{type:"delete",onClick:e=>{T(!0),N(e)}}];return(0,j.jsxs)(s.Fragment,{children:[O&&(0,j.jsx)(f,{deleteOpen:O,selectedBucket:C,bucketEvent:I,closeDeleteModalAndRefresh:e=>{T(!1),e&&k(!0)}}),i&&(0,j.jsx)(_,{open:i,selectedBucket:C,closeModalAndRefresh:()=>{m(!1),k(!0)}}),(0,j.jsx)(l._xt,{separator:!0,sx:{marginBottom:15},actions:(0,j.jsx)(u.R,{scopes:[x.OV.S3_PUT_BUCKET_NOTIFICATIONS,x.OV.S3_PUT_ACTIONS,x.OV.ADMIN_SERVER_INFO],resource:C,matchAll:!0,errorProps:{disabled:!0},children:(0,j.jsx)(S.A,{tooltip:"Subscribe to Event",children:(0,j.jsx)(l.$nd,{id:"Subscribe-bucket-event",onClick:()=>{m(!0)},label:"Subscribe to Event",icon:(0,j.jsx)(l.REV,{}),variant:"callAction"})})}),children:(0,j.jsx)(l.V7x,{content:(0,j.jsxs)(s.Fragment,{children:["MinIO"," ",(0,j.jsx)("a",{target:"blank",href:"https://min.io/docs/minio/kubernetes/upstream/administration/monitoring.html",children:"bucket notifications"})," ","allow administrators to send notifications to supported external services on certain object or bucket events."]}),placement:"right",children:"Events"})}),(0,j.jsxs)(l.xA9,{container:!0,children:[(0,j.jsx)(l.xA9,{item:!0,xs:12,children:(0,j.jsx)(u.R,{scopes:[x.OV.S3_GET_BUCKET_NOTIFICATIONS,x.OV.S3_GET_ACTIONS],resource:C,errorProps:{disabled:!0},children:(0,j.jsx)(l.bQt,{itemActions:F,columns:[{label:"SQS",elementKey:"arn"},{label:"Events",elementKey:"events",renderFunction:e=>{if(!e)return"other";const t=e.reduce((e,t)=>e.includes(t)?e:[...e,t],[]);return(0,j.jsx)(s.Fragment,{children:t.join(", ")})}},{label:"Prefix",elementKey:"prefix"},{label:"Suffix",elementKey:"suffix"}],isLoading:E,records:v,entityName:"Events",idField:"id",customPaperHeight:"400px"})})}),!E&&(0,j.jsxs)(l.xA9,{item:!0,xs:12,children:[(0,j.jsx)("br",{}),(0,j.jsx)(l.lVp,{title:"Event Notifications",iconComponent:(0,j.jsx)(l.PI5,{}),help:(0,j.jsx)(s.Fragment,{children:"Bucket notifications allow administrators to send notifications to supported external services on certain object or bucket events. This supports bucket and object-level S3 events similar to the Amazon S3 Event Notifications."})})]})]})]})}}}]);
//# sourceMappingURL=8010.399c88b6.chunk.js.map