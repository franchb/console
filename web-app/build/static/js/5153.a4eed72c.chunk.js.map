{"version":3,"file":"static/js/5153.a4eed72c.chunk.js","mappings":"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","sources":["screens/Console/License/CheckIcon.tsx","screens/Console/License/LicensePlans.tsx","screens/Console/License/License.tsx","screens/Console/Support/RegistrationStatusBanner.tsx","screens/Console/Common/Components/withSuspense.tsx"],"sourcesContent":["//  This file is part of MinIO Console Server\n//  Copyright (c) 2024 MinIO, Inc.\n//\n//  This program is free software: you can redistribute it and/or modify\n//  it under the terms of the GNU Affero General Public License as published by\n//  the Free Software Foundation, either version 3 of the License, or\n//  (at your option) any later version.\n//\n//  This program is distributed in the hope that it will be useful,\n//  but WITHOUT ANY WARRANTY; without even the implied warranty of\n//  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n//  GNU Affero General Public License for more details.\n//\n//  You should have received a copy of the GNU Affero General Public License\n//  along with this program.  If not, see <http://www.gnu.org/licenses/>.\n\nimport * as React from \"react\";\nimport { SVGProps } from \"react\";\n\nconst CheckIcon = (props: SVGProps<SVGSVGElement>) => (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    viewBox=\"0 0 24 24\"\n    className={`min-icon`}\n    fill={\"currentcolor\"}\n    {...props}\n  >\n    <polygon points=\"8.5 16.5 21.5 3.6 23.4 5.5 8.5 20.4 .6 12.5 2.5 10.5 8.5 16.5\" />\n  </svg>\n);\n\nexport default CheckIcon;\n","//  This file is part of MinIO Console Server\n//  Copyright (c) 2022 MinIO, Inc.\n//\n//  This program is free software: you can redistribute it and/or modify\n//  it under the terms of the GNU Affero General Public License as published by\n//  the Free Software Foundation, either version 3 of the License, or\n//  (at your option) any later version.\n//\n//  This program is distributed in the hope that it will be useful,\n//  but WITHOUT ANY WARRANTY; without even the implied warranty of\n//  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n//  GNU Affero General Public License for more details.\n//\n//  You should have received a copy of the GNU Affero General Public License\n//  along with this program.  If not, see <http://www.gnu.org/licenses/>.\n\nimport React, { Fragment } from \"react\";\nimport { Box, Button } from \"mds\";\nimport { SubnetInfo } from \"./types\";\nimport { FEATURE_ITEMS, FeatureItem, LICENSE_PLANS_INFORMATION } from \"./utils\";\nimport styled from \"styled-components\";\nimport get from \"lodash/get\";\nimport CheckIcon from \"./CheckIcon\";\n\ninterface IRegisterStatus {\n  activateProductModal: any;\n  closeModalAndFetchLicenseInfo: any;\n  licenseInfo: SubnetInfo | undefined;\n  currentPlanID: number;\n  setActivateProductModal: any;\n}\n\nconst LicensesInformation = styled.div(({ theme }) => ({\n  display: \"grid\",\n  gridTemplateColumns: \"repeat(1, minmax(350px, 400px));\",\n  alignItems: \"center\",\n  justifyContent: \"center\",\n  marginTop: 30,\n  marginLeft: 30,\n  \"& > div\": {\n    borderBottom: `${get(theme, \"borderColor\", \"#EAEAEA\")} 1px solid`,\n    padding: \"13px 20px\",\n    justifyContent: \"center\",\n    \"&.openSource\": {\n      borderRight: `#002562 2px solid`,\n      borderLeft: `#002562 2px solid`,\n      position: \"relative\",\n      \"&.first:before\": {\n        content: \"' '\",\n        width: \"calc(100% + 4px)\",\n        height: 16,\n        display: \"block\",\n        backgroundColor: \"#001F55\",\n        position: \"absolute\",\n        top: -14,\n        left: -2,\n        border: `#002562 2px solid`,\n        borderBottom: 0,\n        borderTopLeftRadius: 12,\n        borderTopRightRadius: 12,\n      },\n      \"&.last\": {\n        paddingBottom: 30,\n        \"&:after\": {\n          content: \"' '\",\n          width: \"calc(100% + 4px)\",\n          height: 16,\n          display: \"block\",\n          position: \"absolute\",\n          bottom: -14,\n          left: -2,\n          border: `#002562 2px solid`,\n          borderTop: 0,\n          borderBottomLeftRadius: 12,\n          borderBottomRightRadius: 12,\n        },\n      },\n    },\n    \"&.feature-information\": {\n      textAlign: \"center\",\n    },\n    \"&.feature-label\": {\n      paddingLeft: 5,\n    },\n    \"&.noBorderBottom\": {\n      borderBottom: 0,\n    },\n  },\n  \"& .planName\": {\n    fontWeight: 600,\n    fontSize: 35,\n    marginBottom: 20,\n    textAlign: \"center\",\n    marginTop: 10,\n  },\n  \"& .planIcon\": {\n    height: 45,\n    display: \"flex\",\n    alignItems: \"flex-start\",\n    justifyContent: \"center\",\n    \"& svg\": {\n      height: 35,\n    },\n    \"&.commercial\": {\n      \"& svg\": {\n        height: 20,\n      },\n    },\n  },\n  \"& .planDescription\": {\n    display: \"flex\",\n    justifyContent: \"center\",\n  },\n}));\n\nconst LicensePlans = ({ licenseInfo }: IRegisterStatus) => {\n  let currentPlan = !licenseInfo\n    ? \"community\"\n    : licenseInfo?.plan?.toLowerCase();\n\n  const getButton = (link: string, btnText: string, variant: any) => {\n    let linkToNav =\n      currentPlan !== \"community\" ? \"https://subnet.min.io\" : link;\n    return (\n      <Button\n        id={`license-action-${link}`}\n        variant={variant}\n        sx={{\n          marginTop: \"12px\",\n          width: \"80%\",\n          height: \"55px\",\n        }}\n        onClick={(e) => {\n          e.preventDefault();\n\n          window.open(`${linkToNav}?ref=con`, \"_blank\");\n        }}\n        label={btnText}\n      />\n    );\n  };\n\n  const renderFeatureInformation = (content: FeatureItem | null) => {\n    if (content) {\n      return (\n        <Fragment>\n          {content.content}\n          {content.isCheck && <CheckIcon style={{ width: 16, height: 16 }} />}\n        </Fragment>\n      );\n    }\n    return <Fragment />;\n  };\n\n  return (\n    <LicensesInformation>\n      {[null, ...LICENSE_PLANS_INFORMATION].map((element, index) => {\n        return (\n          <Box\n            key={`${element?.planType}-${index}`}\n            className={`${index === 1 ? \"openSource first\" : \"\"}`}\n          >\n            {element !== null && (\n              <Box>\n                <Box className={\"planName\"}>{element.planName}</Box>\n                <Box\n                  className={`planIcon ${\n                    element.planType === \"commercial\" ? \"commercial\" : \"\"\n                  }`}\n                >\n                  {element?.planIcon}\n                </Box>\n                <Box className={\"planDescription\"}>\n                  {element?.planDescription}\n                </Box>\n              </Box>\n            )}\n          </Box>\n        );\n      })}\n      {FEATURE_ITEMS.map((feature, index) => {\n        return (\n          <Box\n            key={`${feature.featureLabel}-${index}`}\n            className={`feature-information`}\n            sx={{\n              display: \"flex\",\n              borderLeft: `#002562 2px solid`,\n              borderRight: `#002562 2px solid`,\n              flexDirection: \"column\",\n              gap: \"10px\",\n              alignItems: \"center\",\n            }}\n          >\n            <Box className={`feature-label `}>{feature.featureLabel}</Box>\n            {renderFeatureInformation(feature.featurePlans.eosPlus || null)}\n          </Box>\n        );\n      })}\n      {[...LICENSE_PLANS_INFORMATION].map((element) => {\n        return element && currentPlan === \"community\" ? (\n          <div\n            key=\"plan-subscribe-btn\"\n            style={{\n              borderLeft: `#002562 2px solid`,\n              display: \"flex\",\n              alignItems: \"center\",\n              justifyContent: \"center\",\n              borderRight: `#002562 2px solid`,\n              borderBottom: `#002562 2px solid`,\n              borderBottomLeftRadius: \"10px\",\n              borderBottomRightRadius: \"10px\",\n            }}\n          >\n            {getButton(\n              element.planType === \"commercial\"\n                ? `https://min.io/signup`\n                : `https://slack.min.io`,\n              element.planType === \"commercial\" ? \"Subscribe\" : \"Join Slack\",\n              element.planType === \"commercial\" ? \"callAction\" : \"regular\",\n            )}\n          </div>\n        ) : (\n          <div\n            key=\"plan-subscribe-btn-1\"\n            style={{\n              borderLeft: `#002562 2px solid`,\n              display: \"flex\",\n              alignItems: \"center\",\n              justifyContent: \"center\",\n              borderRight: `#002562 2px solid`,\n              borderBottom: `#002562 2px solid`,\n              borderBottomLeftRadius: \"10px\",\n              borderBottomRightRadius: \"10px\",\n            }}\n          >\n            {getButton(\n              `https://subnet.min.io/`,\n              \"Log in to SUBNET\",\n              \"callAction\",\n            )}\n          </div>\n        );\n      })}\n    </LicensesInformation>\n  );\n};\n\nexport default LicensePlans;\n","// This file is part of MinIO Console Server\n// Copyright (c) 2021 MinIO, Inc.\n//\n// This program is free software: you can redistribute it and/or modify\n// it under the terms of the GNU Affero General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU Affero General Public License for more details.\n//\n// You should have received a copy of the GNU Affero General Public License\n// along with this program.  If not, see <http://www.gnu.org/licenses/>.\n\nimport React, { Fragment, useCallback, useEffect, useState } from \"react\";\nimport { ArrowIcon, Button, PageLayout, ProgressBar, Grid } from \"mds\";\nimport { SubnetInfo } from \"./types\";\nimport api from \"../../../common/api\";\nimport { IAM_PAGES } from \"../../../common/SecureComponent/permissions\";\nimport LicensePlans from \"./LicensePlans\";\nimport { useNavigate } from \"react-router-dom\";\nimport RegistrationStatusBanner from \"../Support/RegistrationStatusBanner\";\nimport withSuspense from \"../Common/Components/withSuspense\";\nimport { getLicenseConsent } from \"./utils\";\nimport PageHeaderWrapper from \"../Common/PageHeaderWrapper/PageHeaderWrapper\";\nimport HelpMenu from \"../HelpMenu\";\nimport { setHelpName } from \"../../../systemSlice\";\nimport { useAppDispatch } from \"../../../store\";\n\nconst LicenseConsentModal = withSuspense(\n  React.lazy(() => import(\"./LicenseConsentModal\")),\n);\n\nconst License = () => {\n  const navigate = useNavigate();\n  const [activateProductModal, setActivateProductModal] =\n    useState<boolean>(false);\n\n  const [licenseInfo, setLicenseInfo] = useState<SubnetInfo>();\n  const [currentPlanID, setCurrentPlanID] = useState<number>(0);\n  const [loadingLicenseInfo, setLoadingLicenseInfo] = useState<boolean>(false);\n  const [initialLicenseLoading, setInitialLicenseLoading] =\n    useState<boolean>(true);\n  useState<boolean>(false);\n  const [clusterRegistered, setClusterRegistered] = useState<boolean>(false);\n\n  const [isLicenseConsentOpen, setIsLicenseConsentOpen] =\n    useState<boolean>(false);\n\n  const closeModalAndFetchLicenseInfo = () => {\n    setActivateProductModal(false);\n    fetchLicenseInfo();\n  };\n\n  const dispatch = useAppDispatch();\n  useEffect(() => {\n    dispatch(setHelpName(\"license\"));\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  const isRegistered = licenseInfo && clusterRegistered;\n\n  const isAgplConsentDone = getLicenseConsent();\n\n  useEffect(() => {\n    const shouldConsent =\n      !isRegistered && !isAgplConsentDone && !initialLicenseLoading;\n\n    if (shouldConsent && !loadingLicenseInfo) {\n      setIsLicenseConsentOpen(true);\n    }\n  }, [\n    isRegistered,\n    isAgplConsentDone,\n    initialLicenseLoading,\n    loadingLicenseInfo,\n  ]);\n\n  const fetchLicenseInfo = useCallback(() => {\n    if (loadingLicenseInfo) {\n      return;\n    }\n    setLoadingLicenseInfo(true);\n    api\n      .invoke(\"GET\", `/api/v1/subnet/info`)\n      .then((res: SubnetInfo) => {\n        if (res) {\n          if (res.plan === \"STANDARD\") {\n            setCurrentPlanID(1);\n          } else if (\n            [\"ENTERPRISE\", \"ENTERPRISE-LITE\", \"ENTERPRISE-PLUS\"].includes(\n              res.plan,\n            )\n          ) {\n            setCurrentPlanID(2);\n          } else {\n            setCurrentPlanID(1);\n          }\n          setLicenseInfo(res);\n        }\n        setClusterRegistered(true);\n        setLoadingLicenseInfo(false);\n      })\n      .catch(() => {\n        setClusterRegistered(false);\n        setLoadingLicenseInfo(false);\n      });\n  }, [loadingLicenseInfo]);\n\n  useEffect(() => {\n    if (initialLicenseLoading) {\n      fetchLicenseInfo();\n      setInitialLicenseLoading(false);\n    }\n  }, [fetchLicenseInfo, initialLicenseLoading, setInitialLicenseLoading]);\n\n  if (loadingLicenseInfo) {\n    return (\n      <Grid item xs={12}>\n        <ProgressBar />\n      </Grid>\n    );\n  }\n\n  return (\n    <Fragment>\n      <PageHeaderWrapper\n        label=\"MinIO License and Support Plan\"\n        actions={\n          <Fragment>\n            {!isRegistered && (\n              <Button\n                id={\"login-with-subnet\"}\n                onClick={() => navigate(IAM_PAGES.REGISTER_SUPPORT)}\n                style={{\n                  fontSize: \"14px\",\n                  display: \"flex\",\n                  alignItems: \"center\",\n                  textDecoration: \"none\",\n                }}\n                icon={<ArrowIcon />}\n                variant={\"callAction\"}\n              >\n                Register your cluster\n              </Button>\n            )}\n            <HelpMenu />\n          </Fragment>\n        }\n      />\n\n      <PageLayout>\n        <Grid item xs={12}>\n          {isRegistered && (\n            <RegistrationStatusBanner email={licenseInfo?.email} />\n          )}\n        </Grid>\n\n        <LicensePlans\n          activateProductModal={activateProductModal}\n          closeModalAndFetchLicenseInfo={closeModalAndFetchLicenseInfo}\n          licenseInfo={licenseInfo}\n          currentPlanID={currentPlanID}\n          setActivateProductModal={setActivateProductModal}\n        />\n\n        <LicenseConsentModal\n          isOpen={isLicenseConsentOpen}\n          onClose={() => {\n            setIsLicenseConsentOpen(false);\n          }}\n        />\n      </PageLayout>\n    </Fragment>\n  );\n};\n\nexport default License;\n","// This file is part of MinIO Console Server\n// Copyright (c) 2022 MinIO, Inc.\n//\n// This program is free software: you can redistribute it and/or modify\n// it under the terms of the GNU Affero General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU Affero General Public License for more details.\n//\n// You should have received a copy of the GNU Affero General Public License\n// along with this program.  If not, see <http://www.gnu.org/licenses/>.\n\nimport React from \"react\";\nimport { VerifiedIcon, Box, breakPoints } from \"mds\";\n\nconst RegistrationStatusBanner = ({ email = \"\" }: { email?: string }) => {\n  return (\n    <Box\n      sx={{\n        height: 67,\n        color: \"#ffffff\",\n        display: \"flex\",\n        position: \"relative\",\n        top: -30,\n        left: -32,\n        width: \"calc(100% + 64px)\",\n        alignItems: \"center\",\n        justifyContent: \"space-between\",\n        backgroundColor: \"#2781B0\",\n        padding: \"0 25px 0 25px\",\n        \"& .registered-box, .reg-badge-box\": {\n          display: \"flex\",\n          alignItems: \"center\",\n          justifyContent: \"flex-start\",\n        },\n\n        \"& .reg-badge-box\": {\n          marginLeft: \"20px\",\n\n          \"& .min-icon\": {\n            fill: \"#2781B0\",\n          },\n        },\n      }}\n    >\n      <Box className=\"registered-box\">\n        <Box sx={{ fontSize: \"16px\", fontWeight: 400 }}>Register status:</Box>\n        <Box className=\"reg-badge-box\">\n          <VerifiedIcon />\n          <Box\n            sx={{\n              fontWeight: 600,\n            }}\n          >\n            Registered\n          </Box>\n        </Box>\n      </Box>\n\n      <Box\n        className=\"registered-acc-box\"\n        sx={{\n          alignItems: \"center\",\n          justifyContent: \"flex-start\",\n          display: \"flex\",\n          [`@media (max-width: ${breakPoints.sm}px)`]: {\n            display: \"none\",\n          },\n        }}\n      >\n        <Box sx={{ fontSize: \"16px\", fontWeight: 400 }}>Registered to:</Box>\n        <Box sx={{ marginLeft: \"8px\", fontWeight: 600 }}>{email}</Box>\n      </Box>\n    </Box>\n  );\n};\nexport default RegistrationStatusBanner;\n","// This file is part of MinIO Console Server\n// Copyright (c) 2021 MinIO, Inc.\n//\n// This program is free software: you can redistribute it and/or modify\n// it under the terms of the GNU Affero General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU Affero General Public License for more details.\n//\n// You should have received a copy of the GNU Affero General Public License\n// along with this program.  If not, see <http://www.gnu.org/licenses/>.\n\nimport React, { ComponentType, Suspense, SuspenseProps } from \"react\";\n\nfunction withSuspense<P extends string | number | object>(\n  WrappedComponent: ComponentType<P>,\n  fallback: SuspenseProps[\"fallback\"] = null,\n) {\n  function ComponentWithSuspense(props: P) {\n    return (\n      <Suspense fallback={fallback}>\n        <WrappedComponent {...(props as any)} />\n      </Suspense>\n    );\n  }\n\n  return ComponentWithSuspense;\n}\n\nexport default withSuspense;\n"],"names":["props","_jsx","xmlns","viewBox","className","fill","children","points","LicensesInformation","styled","div","_ref","theme","display","gridTemplateColumns","alignItems","justifyContent","marginTop","marginLeft","borderBottom","get","padding","borderRight","borderLeft","position","content","width","height","backgroundColor","top","left","border","borderTopLeftRadius","borderTopRightRadius","paddingBottom","bottom","borderTop","borderBottomLeftRadius","borderBottomRightRadius","textAlign","paddingLeft","fontWeight","fontSize","marginBottom","_ref2","_licenseInfo$plan","licenseInfo","currentPlan","plan","toLowerCase","getButton","link","btnText","variant","linkToNav","Button","id","sx","onClick","e","preventDefault","window","open","label","_jsxs","LICENSE_PLANS_INFORMATION","map","element","index","Box","planName","planType","planIcon","planDescription","FEATURE_ITEMS","feature","flexDirection","gap","featureLabel","featurePlans","eosPlus","Fragment","isCheck","CheckIcon","style","LicenseConsentModal","withSuspense","React","License","navigate","useNavigate","activateProductModal","setActivateProductModal","useState","setLicenseInfo","currentPlanID","setCurrentPlanID","loadingLicenseInfo","setLoadingLicenseInfo","initialLicenseLoading","setInitialLicenseLoading","clusterRegistered","setClusterRegistered","isLicenseConsentOpen","setIsLicenseConsentOpen","dispatch","useAppDispatch","useEffect","setHelpName","isRegistered","isAgplConsentDone","getLicenseConsent","fetchLicenseInfo","useCallback","api","invoke","then","res","includes","catch","Grid","item","xs","ProgressBar","PageHeaderWrapper","actions","IAM_PAGES","REGISTER_SUPPORT","textDecoration","icon","ArrowIcon","HelpMenu","PageLayout","RegistrationStatusBanner","email","LicensePlans","closeModalAndFetchLicenseInfo","isOpen","onClose","color","VerifiedIcon","breakPoints","sm","WrappedComponent","fallback","arguments","length","undefined","Suspense"],"sourceRoot":""}