"use strict";(self.webpackChunkweb_app=self.webpackChunkweb_app||[]).push([[8311],{18311:(e,t,n)=>{n.r(t),n.d(t,{default:()=>S});var r=n(65043),s=n(33097),i=n.n(s),l=n(22166),o=n(73216),a=n(89923),c=n(56629),d=n(53518),x=n(77403),u=n(99161),p=n(77938),m=n(20755),j=n(64159),h=n(21383),g=n(64681),y=n(72237),b=n(72271),f=n(6681),F=n(48793),T=n(10636),A=n(58661),C=n(70579);const v=e=>{let{open:t,closeModalAndRefresh:n,tierName:s}=e;const i=(0,h.jL)();return(0,C.jsx)(A.A,{title:"Delete Tier",confirmText:"Delete",isOpen:t,titleIcon:(0,C.jsx)(a.$rg,{}),isLoading:!1,onConfirm:()=>{""!==s?c.F.admin.removeTier(s).then(()=>{n(!0)}).catch(e=>{e.json().then(e=>{i((0,j.C9)({errorMessage:e.message,detailedError:e.detailedMessage}))}),n(!1)}):(0,j.C9)({errorMessage:"There was an error deleting the tier",detailedError:""})},onClose:()=>n(!1),confirmationContent:(0,C.jsxs)(r.Fragment,{children:["Are you sure you want to delete the tier ",(0,C.jsx)("strong",{children:s}),"?",(0,C.jsx)("br",{}),(0,C.jsx)("br",{}),(0,C.jsx)("strong",{children:" Please note"}),(0,C.jsx)("br",{})," Only empty tiers can be deleted. If the tier has had objects transitioned into it, it cannot be removed."]})})},O=(0,y.A)(r.lazy(()=>n.e(696).then(n.bind(n,20696)))),S=()=>{const e=(0,h.jL)(),t=(0,o.Zp)(),n=(0,l.d4)(j.Rq),[s,y]=(0,r.useState)([]),[A,S]=(0,r.useState)(""),[E,I]=(0,r.useState)(!0),[w,_]=(0,r.useState)(!1),[M,N]=(0,r.useState)(!1),[R,$]=(0,r.useState)({type:"unsupported",status:!1}),k=(0,p._)(u.Ms,[u.OV.ADMIN_SET_TIER]);(0,r.useEffect)(()=>{if(E)if(n){(()=>{c.F.admin.tiersList().then(e=>{y(e.data.items||[]),I(!1)}).catch(t=>{e((0,j.C9)((0,d.S)(t.error))),I(!1)})})()}else I(!1)},[E,e,n]);const L=s.filter(e=>{if(""===A)return!0;const t=i()(e,`${e.type}.name`,""),n=i()(e,"type","");return t.indexOf(A)>=0||n.indexOf(A)>=0}),D=()=>{t(u.zZ.TIERS_ADD)};return(0,r.useEffect)(()=>{e((0,j.ph)("list-tiers-configuration"))},[]),(0,C.jsxs)(r.Fragment,{children:[w&&(0,C.jsx)(O,{open:w,tierData:R,closeModalAndRefresh:()=>{_(!1)}}),M&&(0,C.jsx)(v,{open:M,tierName:i()(R,`${R.type}.name`,""),closeModalAndRefresh:()=>{N(!1),I(!0)}}),(0,C.jsx)(F.A,{label:"Tiers",actions:(0,C.jsx)(T.A,{})}),(0,C.jsx)(a.Mxu,{children:n?(0,C.jsxs)(r.Fragment,{children:[(0,C.jsxs)(a.xA9,{item:!0,xs:12,sx:x._0.actionsTray,children:[(0,C.jsx)(g.A,{placeholder:"Filter",onChange:S,value:A,sx:{marginRight:"auto",maxWidth:380}}),(0,C.jsxs)(a.azJ,{sx:{display:"flex",flexWrap:"nowrap",gap:5},children:[(0,C.jsx)(a.$nd,{id:"refresh-list",icon:(0,C.jsx)(a.fNY,{}),label:"Refresh List",onClick:()=>{I(!0)}}),(0,C.jsx)(f.A,{tooltip:k?"":"You require additional permissions in order to create a new Tier. Please ask your administrator to grant you "+u.OV.ADMIN_SET_TIER+" permission in order to create a Tier.",children:(0,C.jsx)(p.R,{scopes:[u.OV.ADMIN_SET_TIER],resource:u.Ms,errorProps:{disabled:!0},children:(0,C.jsx)(a.$nd,{id:"add-tier",icon:(0,C.jsx)(a.REV,{}),label:"Create Tier",onClick:D,variant:"callAction"})})})]})]}),E&&(0,C.jsx)(a.z21,{}),!E&&(0,C.jsxs)(r.Fragment,{children:[s.length>0&&(0,C.jsxs)(r.Fragment,{children:[(0,C.jsx)(a.xA9,{item:!0,xs:12,children:(0,C.jsx)(p.R,{scopes:[u.OV.ADMIN_LIST_TIERS],resource:u.Ms,errorProps:{disabled:!0},children:(0,C.jsx)(a.bQt,{itemActions:[{type:"edit",onClick:e=>{$(e),_(!0)}},{type:"delete",isDisabled:!(0,p._)("*",u.pC[u.ac.BUCKET_LIFECYCLE],!0),onClick:e=>{$(e),N(!0)}}],columns:[{label:"Tier Name",elementKey:"type",renderFunction:e=>{const t=i()(e,`${e.type}.name`,"");return null!==t?(0,C.jsx)("b",{children:t}):""},renderFullObject:!0},{label:"Status",elementKey:"status",renderFunction:e=>e?(0,C.jsxs)(a.xA9,{container:!0,sx:{display:"flex",alignItems:"center",justifyItems:"start",color:"#4CCB92",fontSize:"8px",flexDirection:"column"},children:[(0,C.jsx)(a.JrA,{style:{fill:"#4CCB92",width:14,height:14}}),"ONLINE"]}):(0,C.jsxs)(a.xA9,{container:!0,sx:{display:"flex",flexDirection:"column",alignItems:"center",color:"#C83B51",fontSize:"8px"},children:[(0,C.jsx)(a.lgW,{style:{fill:"#C83B51",width:14,height:14}}),"OFFLINE"]}),width:50},{label:"Type",elementKey:"type",renderFunction:e=>{const{logoXs:t}=m._T.find(t=>t.serviceName===e)||{};return e?(0,C.jsx)(a.azJ,{sx:{display:"flex",alignItems:"center","& .min-icon":{width:"18px",height:"22px"}},children:t}):""},width:50},{label:"Endpoint",elementKey:"type",renderFunction:e=>{const t=i()(e,`${e.type}.endpoint`,"");return null!==t?t:""},renderFullObject:!0},{label:"Bucket",elementKey:"type",renderFunction:e=>{const t=i()(e,`${e.type}.bucket`,"");return null!==t?t:""},renderFullObject:!0},{label:"Prefix",elementKey:"type",renderFunction:e=>{const t=i()(e,`${e.type}.prefix`,"");return null!==t?t:""},renderFullObject:!0},{label:"Region",elementKey:"type",renderFunction:e=>{const t=i()(e,`${e.type}.region`,"");return null!==t?t:""},renderFullObject:!0},{label:"Usage",elementKey:"type",renderFunction:e=>{const t=i()(e,`${e.type}.usage`,"");return null!==t?t:""},renderFullObject:!0},{label:"Objects",elementKey:"type",renderFunction:e=>{const t=i()(e,`${e.type}.objects`,"");return null!==t?t:""},renderFullObject:!0},{label:"Versions",elementKey:"type",renderFunction:e=>{const t=i()(e,`${e.type}.versions`,"");return null!==t?t:""},renderFullObject:!0}],isLoading:E,records:L,entityName:"Tiers",idField:"service_name",customPaperHeight:"400px"})})}),(0,C.jsx)(a.xA9,{item:!0,xs:12,sx:{marginTop:"15px"},children:(0,C.jsx)(a.lVp,{title:"Learn more about TIERS",iconComponent:(0,C.jsx)(a.fAn,{}),help:(0,C.jsx)(r.Fragment,{children:"Tiers are used by the Object Lifecycle Management which allows creating rules for time or date based automatic transition or expiry of objects. For object transition, automatically moves the object to a configured remote storage tier."})})})]}),0===s.length&&(0,C.jsx)(a.lVp,{title:"Tiers",iconComponent:(0,C.jsx)(a.fAn,{}),help:(0,C.jsxs)(r.Fragment,{children:["Tiers are used by the Object Lifecycle Management which allows creating rules for time or date based automatic transition or expiry of objects. For object transition, automatically moves the object to a configured remote storage tier.",(0,C.jsx)("br",{}),(0,C.jsx)("br",{}),k?(0,C.jsxs)("div",{children:["To get started,"," ",(0,C.jsx)(a.t53,{isLoading:!1,label:"",onClick:D,children:"Create Tier"}),"."]}):""]})})]})]}):(0,C.jsx)(b.A,{entity:"Tiers",iconComponent:(0,C.jsx)(a.zEc,{})})})]})}},20755:(e,t,n)=>{n.d(t,{_T:()=>c,pW:()=>o,qA:()=>l,vH:()=>i,y:()=>a});var r=n(89923),s=n(70579);const i="minio",l="gcs",o="s3",a="azure",c=[{serviceName:i,targetTitle:"MinIO",logo:(0,s.jsx)(r.Wh8,{}),logoXs:(0,s.jsx)(r.$2v,{})},{serviceName:l,targetTitle:"Google Cloud Storage",logo:(0,s.jsx)(r.F7U,{}),logoXs:(0,s.jsx)(r.gwF,{})},{serviceName:o,targetTitle:"AWS S3",logo:(0,s.jsx)(r._tF,{}),logoXs:(0,s.jsx)(r.ZZX,{})},{serviceName:a,targetTitle:"Azure",logo:(0,s.jsx)(r.Nmx,{}),logoXs:(0,s.jsx)(r.Ubg,{})}]},72237:(e,t,n)=>{n.d(t,{A:()=>i});var r=n(65043),s=n(70579);const i=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return function(n){return(0,s.jsx)(r.Suspense,{fallback:t,children:(0,s.jsx)(e,{...n})})}}},72271:(e,t,n)=>{n.d(t,{A:()=>i});n(65043);var r=n(89923),s=n(70579);const i=e=>{let{iconComponent:t,entity:n}=e;return(0,s.jsx)(r.xA9,{container:!0,children:(0,s.jsx)(r.xA9,{item:!0,xs:12,children:(0,s.jsx)(r.lVp,{title:`${n} not available`,iconComponent:t,help:(0,s.jsxs)(r.azJ,{sx:{fontSize:"14px",[`@media (max-width: ${r.nmC.sm}px)`]:{display:"flex",flexFlow:"column"}},children:[(0,s.jsx)("span",{children:"This feature is not available for a single-disk setup.\xa0"}),(0,s.jsxs)("span",{children:["Please deploy a server in"," ",(0,s.jsx)("a",{href:"https://min.io/docs/minio/linux/operations/install-deploy-manage/deploy-minio-multi-node-multi-drive.html?ref=con",target:"_blank",rel:"noopener",children:"Distributed Mode"})," ","to use this feature."]})]})})})})}}}]);
//# sourceMappingURL=8311.d44206c9.chunk.js.map